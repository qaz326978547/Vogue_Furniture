import{a as g}from"./alertStore-a3d9239e.js";import{m as v,_,r as d,o as p,c as m,a as t,d as o,w as c,b as i,E as k,F as h}from"./index-58dd759c.js";const{VITE_URL:x,VITE_PATH:R}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"qaz326978547",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},$={data(){return{linkActive:""}},methods:{...v(g,["getState"]),checkAdmin(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");n?(this.axios.defaults.headers.common.Authorization=n,this.axios.post(`${x}/api/user/check`).then(e=>{}).catch(e=>{var a;const l=((a=e.data)==null?void 0:a.message)||"沒有權限，請登入";this.getState(l,!1),e.response?(console.log("data",e.response.data),console.log("status",e.response.status),console.log("headers",e.response.headers)):e.request?console.log("request",e.request):console.log("Error",e.message),console.log("config",e.config),this.$router.push("/login")})):(this.getState("請先登入會員",!1),this.$router.push("/login"))},logout(){document.cookie="hexToken=; expires=; ",this.$router.push("/")}},mounted(){this.checkAdmin(),console.log(this.$moment().format("YYYY-MM-DD"))}},E={class:"d-flex justify-content-between px-5 py-3"},A={class:"p-3 d-flex justify-content-center mb-5"},T={class:"d-flex nav-bar"};function V(n,e,l,a,f,r){const s=d("router-link");return p(),m(h,null,[t("div",E,[o(s,{to:"/"},{default:c(()=>[i(" < 回前台")]),_:1}),t("a",{href:"#",onClick:e[0]||(e[0]=k((...u)=>r.logout&&r.logout(...u),["prevent"]))},"登出")]),t("nav",A,[t("ul",T,[t("li",null,[o(s,{"active-class":"active-link",to:"/admin/products"},{default:c(()=>[i("產品管理")]),_:1})]),t("li",null,[o(s,{"active-class":"active-link",to:"/admin/discount"},{default:c(()=>[i("優惠卷管理")]),_:1})]),t("li",null,[o(s,{"active-class":"active-link",to:"/admin/order"},{default:c(()=>[i("訂單管理")]),_:1})])])])],64)}const b=_($,[["render",V]]),w={data(){return{}},components:{AdminNavbar:b}};function S(n,e,l,a,f,r){const s=d("admin-navbar"),u=d("router-view");return p(),m(h,null,[o(s),o(u)],64)}const q=_(w,[["render",S]]);export{q as default};
