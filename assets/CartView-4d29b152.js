import{c as y}from"./cartStore-e3fb4002.js";import{_ as x,m as C,f as w,r as V,o as a,c as n,a as t,F as i,h as r,t as l,j as u,D as k,d as f,w as g,v,b}from"./index-965eb23a.js";import"./alertStore-c564bdcb.js";const{VITE_URL:T,VITE_PATH:U}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"qaz326978547",BASE_URL:"/Vogue_Furniture/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},E={data(){return{data:{code:""},message:""}},methods:{...C(y,["getCart","deleteCart","updatedCart"]),useCoupon(){this.axios.post(`${T}/api/${U}/coupon`,{data:this.data}).then(o=>{this.message=o.data.message,this.cart.final_total=o.data.data.final_total})}},computed:{...w(y,["cart"])},mounted(){this.getCart()}},q={class:"container"},S={key:0,class:"overflow-hidden"},$={class:"table align-middle"},D=t("thead",null,[t("tr",null,[t("th",{style:{width:"150px"}}),t("th",{style:{width:"200px"}},"商品名稱"),t("th",{class:"is-visible",style:{width:"80px"}},"數量"),t("th",{style:{width:"200px"}},"小計"),t("th",{style:{width:"200px"}})])],-1),N=["src"],R={class:"text-start px-3"},A={class:"badge bg-primary mb-3"},B={class:"fs-7"},I=["onUpdate:modelValue","onChange"],L=["value"],F={class:"px-0 mx-0"},M=["onUpdate:modelValue","onChange"],P=["value"],j={class:"h6"},H=["onClick"],O=t("i",{class:"bi fs-4 bi-trash text-danger"},null,-1),z=[O],G={class:"row g-3 d-flex justify-content-between"},J={class:"cart-code col-md-5"},K={class:"fs-6"},Q=t("label",{class:"my-2",for:"code"},null,-1),W={class:"input-group"},X={class:"text-success"},Y={class:"d-flex flex-column cart-total col-md-5"},Z=t("li",null,"商品總額NT$",-1),tt=t("ul",null,[t("li",null,"運費NT$"),t("li",null,"200")],-1),st=t("hr",{class:"bg-primary"},null,-1),et=t("li",null,"總計NT$",-1),ot={key:1,class:"text-center",style:{height:"52vh"}},lt=t("h3",{class:"my-5"},"購物車還沒有商品哦",-1);function at(o,d,nt,dt,c,h){var p,m;const _=V("router-link");return a(),n("div",q,[((p=o.cart.carts)==null?void 0:p.length)>0?(a(),n("div",S,[t("table",$,[D,t("tbody",null,[(a(!0),n(i,null,r(o.cart.carts,s=>(a(),n("tr",{key:s.id},[t("td",null,[t("img",{src:s.product.imageUrl,alt:"",style:{"max-width":"150px"}},null,8,N)]),t("td",null,[t("div",R,[t("small",null,[t("span",A,l(s.product.category),1)]),t("h6",B,l(s.product.title),1),u(t("select",{name:"",id:"",class:"form-select not-phone mt-3","onUpdate:modelValue":e=>s.qty=e,style:{width:"80px"},onChange:e=>o.updatedCart(s.id,s.qty)},[(a(),n(i,null,r(10,e=>t("option",{value:e},l(e),9,L)),64))],40,I),[[v,s.qty]])])]),t("td",F,[u(t("select",{name:"",id:"",class:"form-select phone","onUpdate:modelValue":e=>s.qty=e,style:{width:"80px"},onChange:e=>o.updatedCart(s.id,s.qty)},[(a(),n(i,null,r(10,e=>t("option",{value:e},l(e),9,P)),64))],40,M),[[v,s.qty]])]),t("td",j,l(s.final_total),1),t("td",null,[t("button",{type:"button",class:"btn",onClick:e=>o.deleteCart(s.id)},z,8,H)])]))),128))])]),t("div",G,[t("div",J,[t("ul",null,[t("li",K,"共"+l((m=o.cart.carts)==null?void 0:m.length)+"筆商品 ",1)]),t("div",null,[Q,t("div",W,[u(t("input",{"onUpdate:modelValue":d[0]||(d[0]=s=>c.data.code=s),name:"code",id:"code",class:"form-control",type:"text",placeholder:"折扣碼"},null,512),[[k,c.data.code]]),t("button",{onClick:d[1]||(d[1]=(...s)=>h.useCoupon&&h.useCoupon(...s)),class:"btn btn-primary"},"套用優惠卷")]),t("p",X,l(c.message),1)])]),t("div",Y,[t("ul",null,[Z,t("li",null,l(o.cart.total),1)]),tt,st,t("ul",null,[et,t("li",null,l(o.cart.final_total+200),1)]),f(_,{class:"btn btn-primary mt-5",to:"/checkout"},{default:g(()=>[b("前往付款")]),_:1})])])])):(a(),n("div",ot,[lt,f(_,{to:"/products",class:"btn btn-primary"},{default:g(()=>[b("前往購物")]),_:1})]))])}const ut=x(E,[["render",at]]);export{ut as default};
