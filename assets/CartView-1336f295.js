import{c as y}from"./cartStore-50590b34.js";import{_ as C,m as x,f as w,r as V,o as l,c as a,a as t,F as i,h as r,t as n,j as u,D as k,d as f,w as g,v,b}from"./index-c27d7e89.js";import"./alertStore-9c1089b7.js";const{VITE_URL:T,VITE_PATH:U}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"qaz326978547",BASE_URL:"/Vogue_Furniture/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},E={data(){return{data:{code:""},message:""}},methods:{...x(y,["getCart","deleteCart","updatedCart"]),useCoupon(){this.axios.post(`${T}/api/${U}/coupon`,{data:this.data}).then(e=>{this.message=e.data.message,this.cart.final_total=e.data.data.final_total})}},computed:{...w(y,["cart"])},mounted(){this.getCart()}},q={class:"container"},S={key:0,class:"overflow-hidden"},$={class:"table align-middle"},D=t("thead",null,[t("tr",null,[t("th",{style:{width:"150px"}}),t("th",{style:{width:"200px"}},"商品名稱"),t("th",{class:"is-visible",style:{width:"80px"}},"數量"),t("th",{style:{width:"200px"}},"小計"),t("th",{style:{width:"200px"}})])],-1),N=["src"],R={class:"text-start px-3"},A={class:"badge bg-primary mb-3"},B={class:"fs-7"},I=["onUpdate:modelValue","onChange"],L=["value"],F={class:"px-0 mx-0"},M=["onUpdate:modelValue","onChange"],P=["value"],j={class:"h6"},H=["onClick"],O=t("i",{class:"bi fs-4 bi-trash text-danger"},null,-1),z=[O],G={class:"row g-3 d-flex justify-content-between"},J={class:"cart-code col-md-5"},K={class:"fs-6"},Q=t("label",{class:"my-2",for:"code"},null,-1),W={class:"input-group"},X={class:"text-success"},Y={class:"d-flex flex-column cart-total col-md-5"},Z=t("li",null,"商品總額NT$",-1),tt=t("li",null,"運費NT$",-1),st={key:0},et={key:1},ot=t("s",null,"200",-1),lt=[ot],at=t("hr",{class:"bg-primary"},null,-1),nt=t("li",null,"總計NT$",-1),dt={key:1,class:"text-center",style:{height:"52vh"}},ct=t("h3",{class:"my-5"},"購物車還沒有商品哦",-1);function it(e,d,rt,ut,c,_){var p,m;const h=V("router-link");return l(),a("div",q,[((p=e.cart.carts)==null?void 0:p.length)>0?(l(),a("div",S,[t("table",$,[D,t("tbody",null,[(l(!0),a(i,null,r(e.cart.carts,s=>(l(),a("tr",{key:s.id},[t("td",null,[t("img",{src:s.product.imageUrl,alt:"",style:{"max-width":"150px"}},null,8,N)]),t("td",null,[t("div",R,[t("small",null,[t("span",A,n(s.product.category),1)]),t("h6",B,n(s.product.title),1),u(t("select",{name:"",id:"",class:"form-select not-phone mt-3","onUpdate:modelValue":o=>s.qty=o,style:{width:"80px"},onChange:o=>e.updatedCart(s.id,s.qty)},[(l(),a(i,null,r(10,o=>t("option",{value:o},n(o),9,L)),64))],40,I),[[v,s.qty]])])]),t("td",F,[u(t("select",{name:"",id:"",class:"form-select phone","onUpdate:modelValue":o=>s.qty=o,style:{width:"80px"},onChange:o=>e.updatedCart(s.id,s.qty)},[(l(),a(i,null,r(10,o=>t("option",{value:o},n(o),9,P)),64))],40,M),[[v,s.qty]])]),t("td",j,n(s.final_total),1),t("td",null,[t("button",{type:"button",class:"btn",onClick:o=>e.deleteCart(s.id)},z,8,H)])]))),128))])]),t("div",G,[t("div",J,[t("ul",null,[t("li",K,"共"+n((m=e.cart.carts)==null?void 0:m.length)+"筆商品 ",1)]),t("div",null,[Q,t("div",W,[u(t("input",{"onUpdate:modelValue":d[0]||(d[0]=s=>c.data.code=s),name:"code",id:"code",class:"form-control",type:"text",placeholder:"折扣碼"},null,512),[[k,c.data.code]]),t("button",{onClick:d[1]||(d[1]=(...s)=>_.useCoupon&&_.useCoupon(...s)),class:"btn btn-primary"},"套用優惠卷")]),t("p",X,n(c.message),1)])]),t("div",Y,[t("ul",null,[Z,t("li",null,n(e.cart.total),1)]),t("ul",null,[tt,e.cart.final_total<1e4?(l(),a("li",st,"200")):(l(),a("li",et,lt))]),at,t("ul",null,[nt,t("li",null,n(e.cart.final_total>1e4?e.cart.final_total:e.cart.final_total+200),1)]),f(h,{class:"btn btn-primary mt-5",to:"/checkout"},{default:g(()=>[b("前往付款")]),_:1})])])])):(l(),a("div",dt,[ct,f(h,{to:"/products",class:"btn btn-primary"},{default:g(()=>[b("前往購物")]),_:1})]))])}const mt=C(E,[["render",it]]);export{mt as default};
