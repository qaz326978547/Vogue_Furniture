import{B as d,C as o}from"./index-58dd759c.js";import{a as i}from"./alertStore-a3d9239e.js";const{VITE_URL:c,VITE_PATH:s}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"qaz326978547",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},e=i(),h=d("cart",{state:()=>({cart:[],data:{code:""}}),actions:{getCart(){o.get(`${c}/api/${s}/cart`).then(t=>{const{data:a}=t.data;console.log(a),this.cart=a}).catch(t=>{e.getState("資料無法取得,請稍後再試",!1)})},addCart(t,a=1){const l={product_id:t,qty:a};o.post(`${c}/api/${s}/cart`,{data:l}).then(r=>{console.log(r),this.getCart(),e.getState("已新增購物車",!0)}).catch(r=>{e.getState("資料無法取得,請稍後再試",!1)})},deleteCart(t){o.delete(`${c}/api/${s}/cart/${t}`).then(a=>{console.log(a),this.getCart(),e.getState("已刪除商品",!0)}).catch(a=>{e.getState("資料無法取得,請稍後再試",!1)})},updatedCart(t,a=1){const l={product_id:t,qty:a};o.put(`${c}/api/${s}/cart/${t}`,{data:l}).then(r=>{console.log(r),this.getCart(),e.getState("已更新購物車",!0)}).catch(r=>{e.getState("資料無法取得,請稍後再試",!1)})}}});export{h as c};
