import{B as d,C as o}from"./index-a017f003.js";import{a as u}from"./alertStore-0e49609d.js";const{VITE_URL:i,VITE_PATH:c}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"qaz326978547",BASE_URL:"/Vogue_Furniture/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},g=u(),p=d("products",{state:()=>({products:[],product:{},categorys:[],categoryList:[],currentCategory:"all",isLoading:!1,categoryItem:[],limitProduct:[]}),actions:{getProducts(){this.isLoading=!0,o.get(`${i}/api/${c}/products/all`).then(e=>{this.products=e.data.products,this.categoryList=e.data.products,this.isLoading=!1;let t=[];this.products.map(s=>{t.push(s.category)}),t=[...new Set(t)],this.categorys=t}).catch(e=>{var s;const t=((s=e.data)==null?void 0:s.message)||"資料取得失敗，稍後在試";g.getState(t,!1)})},getProduct(e){this.isLoading=!0,o.get(`${i}/api/${c}/product/${e}`).then(t=>{this.product=t.data.product,this.isLoading=!1,this.getCategoryItem(this.product.category)}).catch(t=>{var a;const s=((a=t.data)==null?void 0:a.message)||"資料取得失敗，稍後在試";g.getState(s,!1)})},getCategory(e){if(this.currentCategory=e,e=="all")this.getProducts();else{let t=[];t=this.products.filter(s=>s.category===e),this.categoryList=t}},getCategoryItem(e){e=="all"?this.getProducts():o.get(`${i}/api/${c}/products/all`).then(t=>{const s=t.data.products.filter(r=>r.category==e);this.categoryItem=s;let a=[];for(let r=0;r<4;r++)a.push(s[r]);this.limitProduct=a}).catch(t=>{var a;const s=((a=t.data)==null?void 0:a.message)||"資料取得失敗，稍後在試";g.getState(s,!1)})}}});export{p};
