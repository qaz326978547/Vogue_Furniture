import{_ as V,f as v,r as i,o as g,c as x,a as e,d as l,w as y,n as d,j as E,D as k,b as m}from"./index-2c34bb4a.js";import{c as w}from"./cartStore-26ebb9b5.js";import"./alertStore-84118eea.js";const{VITE_URL:_,VITE_PATH:h}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"qaz326978547",BASE_URL:"/Vogue_Furniture/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},S={data(){return{user:{name:"",email:"",tel:"",address:""},message:""}},methods:{onSubmit(){const t={data:{user:this.user},message:this.message};this.axios.post(`${_}/api/${h}/order`,t).then(s=>{console.log("data訂單",s.data);const p=s.data.orderId;swal({title:"已送出訂單",icon:"success",timer:2e3}),this.cart=[],this.$router.push(`/order/${p}`)})},check(){this.axios.delete(`${_}/api/${h}/admin/orders/all`).then(t=>{console.log(t)})},isPhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"需要正確的電話號碼"}},computed:{...v(w,["cart"])}},T={class:"container"},U={class:"my-5 mx-0 row justify-content-center"},I={class:"col-12"},C=e("h3",{class:"mb-5"},"◎ 收件人資訊",-1),D={class:"mb-3"},F=e("label",{class:"my-2",for:"name"},[e("span",{class:"text-danger"},"*"),m("姓名")],-1),N={class:"mb-3"},P=e("label",{class:"my-2",for:"email"},[e("span",{class:"text-danger"},"*"),m("電子郵件")],-1),R={class:"mb-3"},q=e("label",{for:"tel",class:"form-label"},[e("span",{class:"text-danger"},"*"),m("電話")],-1),B={class:"mb-3"},M=e("label",{class:"my-2",for:"address"},[e("span",{class:"text-danger"},"*"),m("收件地址")],-1),A={class:"mb-3"},L=e("label",{class:"my-2",for:"message"},"備註",-1);function j(t,s,p,z,a,c){const n=i("Field"),f=i("error-message"),u=i("ErrorMessage"),b=i("Form");return g(),x("div",T,[e("div",U,[e("div",I,[C,l(b,{class:"row gx-3"},{default:y(({errors:r})=>[e("div",D,[F,l(n,{id:"name",name:"姓名",rules:"required",class:d([{"is-invalid":r.姓名},"form-control"]),type:"text",modelValue:a.user.name,"onUpdate:modelValue":s[0]||(s[0]=o=>a.user.name=o),placeholder:"請輸入姓名"},null,8,["class","modelValue"]),l(f,{name:"姓名",class:"invalid-feedback"})]),e("div",N,[P,l(n,{id:"email",name:"email",type:"email",class:d(["form-control",{"is-invalid":r.email}]),modelValue:a.user.email,"onUpdate:modelValue":s[1]||(s[1]=o=>a.user.email=o),placeholder:"請輸入 Email",rules:"email|required"},null,8,["modelValue","class"]),l(u,{name:"email",class:"invalid-feedback"})]),e("div",R,[q,l(n,{id:"tel",name:"電話",modelValue:a.user.tel,"onUpdate:modelValue":s[2]||(s[2]=o=>a.user.tel=o),rules:c.isPhone,class:d([{"is-invalid":r.電話},"form-control"]),type:"text",placeholder:"請輸入電話"},null,8,["modelValue","rules","class"]),l(u,{name:"電話",class:"invalid-feedback"})]),e("div",B,[M,l(n,{id:"address",name:"收件地址",type:"text",class:d(["form-control",{"is-invalid":r.收件地址}]),modelValue:a.user.address,"onUpdate:modelValue":s[3]||(s[3]=o=>a.user.address=o),placeholder:"請輸入收件地址",rules:"required"},null,8,["modelValue","class"]),l(u,{name:"收件地址",class:"invalid-feedback"})]),e("div",A,[L,E(e("textarea",{"onUpdate:modelValue":s[4]||(s[4]=o=>a.message=o),class:"form-control",name:"message",id:"message",rows:"5"},null,512),[[k,a.message]])]),e("button",{class:"text-white my-5 btn btn-primary",type:"button",onClick:s[5]||(s[5]=(...o)=>c.onSubmit&&c.onSubmit(...o))},"送出訂單")]),_:1})])])])}const J=V(S,[["render",j]]);export{J as default};
